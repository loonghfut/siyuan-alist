## 插件介绍

本插件用于连接两个思源笔记，实现相互传输笔记的功能，我主要用于连接windows版和docker版的思源笔记   
同时也支持将全量导出的data传输到alist上，实现简单的备份功能（最好还是以官方备份或s3备份为主）   
alist备份只是方便在导出data时不用我手动上传到网盘上（此备份就是导出全部data（未加密），不适合同步数据）

> v0.2.x版本加入alist页面

#### 目前有的功能  
1. 将win端的单个笔记上传到docker端（顶栏右侧-传输当前笔记）（笔记路径不会发生改变）
2. 将win端的笔记全部传输到docker端（设置-全量传输）
3. 将docker端的笔记全部传输到win端（设置-全量拉取）
4. 将win端或docker端的笔记全量备份到alist（顶栏左侧-备份到alist）
5. 可视化docker端笔记的文件树，并支持多选后，多笔记拉取（右侧dock栏）
6. 嵌入alist网页，并自动识别alist的链接，不在跳转到浏览器  

#### 达到目的（使用场景）
1. 方便将数据备份到alist
2. docker端用于展示（只读），而win端负责将写好的笔记上传到docker端用于分享
3. docker端用于网络剪藏，然后win端拉取docker端的笔记
4. 嵌入alist网页，用于大型附件的的上传，而思源笔记只需记下链接即可（win端可以直接拖拽获取上传的附件链接）


### 如发现bug，欢迎反馈，或提出想法

## ！！注意！！本插件未经过全面测试，请在使用本插件前备份好数据防止数据流失！！注意！！

## ！！注意！！本插件涉及到笔记文件相关的操作，请在使用本插件前备份好数据防止数据流失！！注意！！

## 可能会遇到的问题

- alist 配置相关
  - 填网址时不要在最后加“/” （思源服务器地址配置也一样）  
   正确示例： 
   http://alist.example.com  
  错误示例：
   http://alist.example.com/

   - 0.1.7版本之后路径填写示例  
    正确示例：/alist/siyuan
      > 后面不要加“/”
   - 0.1.7版本之后默认文件名后面要加.zip


## 更新日志 
 0.0.1: 初版

 0.0.2: 对无附件时的判断进行优化

 0.0.3: 使用多文件编程模式

 0.0.4: 优化消息提示

 0.0.5: 设置修改优化，修改后自动马上保存

 0.0.5:增加连接验证功能

 0.0.5: 增加日志输出控制

 0.0.6: 修复对于原数据在新笔记本上传输过去虽创建了新笔记本但默认关闭了新笔记本,优化日志输出控制

 TODO: 增加同时对子笔记的传输（以后再说）

 0.0.7: 修复传输后数据库没有值

 0.0.7: 优化插件消息反馈（点验证的时候，返回正在验证的消息通知）

 0.0.8: 增加传输后标记功能，和传输锁定功能 

 0.0.8：关于传输后覆盖远程编辑的问题，目前的解决方案是：
- 1 . 提供拉取远程笔记功能（对比本地编辑时间，进而判断是否拉取）{若网络不好，体验很差} 放弃
- 2 . 在云端复制为副本后再编辑，这样就不怕覆盖远程编辑内容
- TODO 3 . 在传输前判断是否有存在相同的笔记，若有，则判断是否为只读笔记，若是只读笔记，则上传，若其他情况，则创建副本后上传
 0.1.0: 增加菜单选项栏 

 0.1.0：全量传输（使用sy.zip实现），单个笔记不使用zip实现，因为会重新生成新文件，还好之前的努力没有白费

 IOFO: 修改文件名的api，确定不支持修改data文件夹外的文件 

 TODO: 在全量传输后自动删除本地zip文件 (思源笔记好像自带这个功能)

 0.1.1: 全量传输存在BUG，需要修复，（已修复） 

 0.1.1: 全量传输和备份功能不常用，放到插件设置中

 0.1.1: 新增全量拉取功能

 0.1.2：增加多个目标思源服务

 0.1.3: 增加备份到alist功能

 0.1.4: 优化日志输出

第一个发布版本0.1.5
 > 0.1.5:  
  fix: 修复全量传输时，若工作空间为中文路径，会导致文件名乱码，导致文件无法下载

 > 0.1.6:  
 修复全量备份ui显示问题  
 增加对mac的兼容插件配置(理论上支持所有设备，但mac和ios设备未测试) 

 > 0.1.7:  
 优化全量备份ui显示  
 优化部分解释性文字  
 优化备份到alist的相关配置  
 优化备份到alist时的一些错误判断  
 更改了md文件

 > 0.1.8:  
 增加：对目标源笔记的可视化文件树展示，方便选择选择拉取目标源笔记  
 修复：全量拉取时，若工作空间为中文路径，会导致文件名乱码，导致文件无法下载  
 融入vue前端框架

> 0.1.9:  
 优化：报错反馈  
 增加：对夜间和白天主题的适配

> 0.2.0:  
 增加：嵌入alist网页  
 优化：删除一些无用代码  

> 0.2.1:  
 优化：优化alist嵌入体验  
 优化：删除了没有使用的svelte

> 0.2.2:   
 优化：允许对iframe的剪切板权限（进而优化网页端的alist复制链接体验）  

> 0.2.3:   
 优化：对嵌入alist网页增加错误反馈   
 更新：插件介绍  

> 0.2.4:  
 增加：上传附件到alist功能  

> 0.2.5:  
 优化：上传附件到alist功能

> 0.2.6:  
 增加：kimi和deepseek网页嵌入

## 最后
自用插件，开源分享，代码凌乱不堪，插件使用了思源社区的模板，主要参考https://github.com/siyuan-community/siyuan-developer-docs


### 禁止使用与免责约定：
禁止使用本产品用于任意违法乱纪相关行为。
作者不为你使用本产品所产生的任何后果负责。